# HTTP server
PORT=3001
LOG_LEVEL=info
LOG_PRETTY=true

# Postgres settings (inject credentials via env/secret store)
DB_HOST=db
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=
DB_NAME=mini_derms

# MQTT broker settings
MQTT_HOST=mosquitto
MQTT_PORT=1883

# TLS (optional)
TLS_ENABLED=false
TLS_KEY_PATH=/run/secrets/server-key.pem
TLS_CERT_PATH=/run/secrets/server-cert.pem

# Observability
PROMETHEUS_ENABLED=true
PROMETHEUS_PATH=/metrics

# Control loop behavior
CONTROL_INTERVAL_SECONDS=60
FEEDER_DEFAULT_LIMIT_KW=250

# Auth (secrets must be injected from a vault or env variables)
# Use 32+ character secrets and rotate at least every 90 days.
JWT_SECRET=d141924884297a46ee149d98048d5a0f11725297fba0c0b709ee44306d1f0ac8
JWT_TOKEN_TTL_HOURS=12
AUTH_USERS=[{"username":"ops-admin","passwordHash":"scrypt:NvAvcp12tbAWDtoiIUoEPA==:5Wkv5Knm264H4Zj2HXUuRh3L12lfUL7z5ouTOgMak2vxyXPnInCnDuzK8L5n/M0rBEeQd4SsGANmwrsj40FUzw==","role":"admin"}]
# Provide AUTH_USERS as a JSON array with passwordHash (scrypt) values. Generate hashes with `npm run auth:hash <password>` and inject them via vault/secret manager.
# Example (inject via vault/secret manager, do not commit real credentials):
# AUTH_USERS='[{"username":"ops-admin","passwordHash":"scrypt:base64Salt:base64Key","role":"admin"}]'
